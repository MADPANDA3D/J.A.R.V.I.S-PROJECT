# ==========================================
# JARVIS Chat - Staging Environment Configuration
# ==========================================
# Copy this file to .env.staging and fill in your actual credentials
# WARNING: Never commit actual credentials to version control!

# ==========================================
# Application Settings
# ==========================================
NODE_ENV=staging
VITE_APP_ENV=staging
VITE_APP_VERSION=staging-latest
VITE_APP_DOMAIN=https://staging.yourdomain.com

# ==========================================
# Database & Authentication Configuration
# ==========================================
# Get these from your Supabase staging project dashboard:
# https://app.supabase.com/project/YOUR_STAGING_PROJECT/settings/api

# Your Supabase staging project URL
VITE_SUPABASE_URL=https://your-staging-project.supabase.co

# Your Supabase anon/public key for staging (starts with "eyJ...")
# SENSITIVE: Supabase anon key - safe for client-side use
VITE_SUPABASE_ANON_KEY=your-staging-supabase-anon-key

# Supabase service role key for admin operations (KEEP SECRET!)
# CRITICAL: This service role key has admin privileges - use on server only!
SUPABASE_SERVICE_ROLE_KEY=your-staging-service-role-key

# Site URL for Supabase authentication redirects
VITE_SUPABASE_SITE_URL=https://staging.yourdomain.com

# ==========================================
# External Integrations
# ==========================================
# n8n webhook URL for staging environment
VITE_N8N_WEBHOOK_URL=https://staging-n8n.yourdomain.com/webhook/your-id

# n8n webhook security (recommended for staging)
# SECRET: Webhook secret for secure n8n communication
N8N_WEBHOOK_SECRET=your-staging-webhook-secret
N8N_API_KEY=your-staging-n8n-api-key

# ==========================================
# Security Configuration  
# ==========================================
# Generate unique secrets for staging environment
# SENSITIVE: JWT secret must be unique for staging security
JWT_SECRET=your-staging-jwt-secret-minimum-32-characters
# KEY: Encryption key for staging data protection
ENCRYPTION_KEY=your-staging-encryption-key-32-characters

# ==========================================
# Monitoring & Logging Configuration
# ==========================================
# Staging-appropriate log level (info for detailed monitoring)
LOG_LEVEL=info

# Enable metrics collection for staging performance monitoring
ENABLE_METRICS=true
ENABLE_ANALYTICS=true

# Error tracking with Sentry (optional but recommended for staging)
VITE_SENTRY_DSN=your-staging-sentry-dsn

# DataDog monitoring for staging environment (optional)
DATADOG_API_KEY=your-staging-datadog-api-key

# ==========================================
# Performance & Caching Settings
# ==========================================
# Enable caching for staging performance testing
ENABLE_CACHING=true
CACHE_TTL=3600

# Compression settings for staging
COMPRESSION_ENABLED=true

# Rate limiting for staging (more lenient than production)
RATE_LIMIT_WINDOW=900
RATE_LIMIT_MAX_REQUESTS=1000

# Content Security Policy (enabled for staging security testing)
CSP_ENABLED=true

# ==========================================
# Feature Flags & Development Tools
# ==========================================
# Limited debug tools for staging troubleshooting
ENABLE_DEBUG_TOOLS=false

# Allow experimental features for staging testing
ENABLE_EXPERIMENTAL_FEATURES=true

# Disable mocking in staging (use real services)
MOCK_N8N_RESPONSES=false

# Never bypass auth in staging
BYPASS_AUTH=false

# ==========================================
# Webhook Configuration
# ==========================================
# Webhook timeout (staging - moderate timeout)
WEBHOOK_TIMEOUT=20000

# Webhook retry configuration for staging
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_CIRCUIT_BREAKER_THRESHOLD=5

# Enable webhook monitoring for staging
WEBHOOK_MONITORING_ENABLED=true

# WebSocket URL for real-time notifications (staging)
VITE_WEBHOOK_WEBSOCKET_URL=wss://staging.yourdomain.com:9001

# ==========================================
# STAGING ENVIRONMENT NOTES
# ==========================================
# 1. This environment should mirror production as closely as possible
# 2. Use separate staging databases and services
# 3. Enable monitoring and logging for testing
# 4. Test all features before promoting to production
# 5. Never use production secrets in staging